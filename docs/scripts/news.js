!function(){const r={o:"hall12593",r:"NexoraBot",p:function(e){return`https://${this.o}.github.io/${this.r}/`+e},q:function(e){return`https://${this.o}.github.io/${this.r}/news/`+e}};async function t(t){try{var a=await(await fetch(r.p(t))).json();let e=`
        <h2>${a.titulo}</h2>
        <p class="lead">${a.fecha} — ${a.hora??"??:??"}</p>
        <div style="margin-top:15px;">
          ${n=a.contenido,n?(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/```([\s\S]*?)```/g,(e,t)=>`<div class="codeblock">${t}</div>`)).replace(/`([^`]+)`/g,"<code>$1</code>")).replace(/^> (.*)$/gm,'<div class="blockquote">$1</div>')).replace(/\|\|(.*?)\|\|/g,'<span class="spoiler">$1</span>')).replace(/__\*\*(.*?)\*\*__/g,'<span class="underline bold">$1</span>')).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/__(.*?)__/g,'<span class="underline">$1</span>')).replace(/\*\*\*(.*?)\*\*\*/g,"<strong><em>$1</em></strong>")).replace(/(^|[^*])\*(?!\*)(.*?)\*(?!\*)/g,"$1<em>$2</em>")).replace(/(^|[^_])_(?!_)(.*?)_(?!_)/g,"$1<em>$2</em>")).replace(/~~(.*?)~~/g,"<del>$1</del>")).replace(/^(?:-|\•) (.*)$/gm,"<li>$1</li>")).replace(/(<li>[\s\S]*?<\/li>)/g,'<ul class="news-list">$1</ul>')).replace(/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>')).replace(/\n/g,"<br>"):""}
        </div>
      `;a.imagen_base64&&(e+=`
          <img src="data:image/png;base64,${a.imagen_base64}"
               style="max-width:100%;border-radius:10px;margin-top:15px;">
        `),document.getElementById("news-view").innerHTML=e}catch(e){document.getElementById("news-view").innerHTML='<p style="color:red">❌ Error cargando noticia.</p>',console.error(e)}var n}document.addEventListener("click",e=>{e.target.classList.contains("spoiler")&&e.target.classList.toggle("revealed")}),document.getElementById("news-select").addEventListener("change",e=>{e.target.value&&t(e.target.value)}),async function(){const a=document.getElementById("news-select");try{var e=await(await fetch(r.q("index.json"))).json();a.innerHTML='<option value="">Selecciona una noticia...</option>',e.forEach(e=>{var t=document.createElement("option");t.value=e.ruta,t.textContent=`${e.titulo} (${e.fecha})`,a.appendChild(t)}),e.length&&(t(e[0].ruta),a.value=e[0].ruta)}catch(e){document.getElementById("news-view").innerHTML='<p style="color:red">❌ Error cargando index.json.</p>',console.error(e)}}()}();